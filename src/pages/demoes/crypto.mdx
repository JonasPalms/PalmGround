---
title: 'Crypto API'
layout: '@/layouts/DemoLayout.astro'
technologies: ['js']
---

import Crypto from '@/components/demoes/Crypto.astro'

This demo uses the [Crypto API](https://developer.mozilla.org/en-US/docs/Web/API/Web_Crypto_API)
to encrypt and decrypt messages.
The encryption is done using the RSA-OAEP algorithm.
Before encrypting the message, the browser generates a public and private key pair.

```js
const { publicKey, privateKey } = await crypto.subtle.generateKey(
  {
    name: 'RSA-OAEP',
    modulusLength: 2048,
    publicExponent: new Uint8Array([1, 0, 1]),
    hash: { name: 'SHA-256' },
  },
  true,
  ['encrypt', 'decrypt']
)
```

The public key is then used to encrypt the message

```js
crypto.subtle.encrypt('RSA-OAEP', publicKey, encodedMessage)
```

and the private key is used to decrypt the message

```js
crypto.subtle.decrypt('RSA-OAEP', privateKey, encodedMessage)
```

<Crypto />
